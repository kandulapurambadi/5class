<!DOCTYPE html>
<html lang="te">
<head>
<meta charset="UTF-8">
<title>Three Butterflies ‚Äì Vocabulary Matching Game</title>

<link href="https://fonts.googleapis.com/css2?family=Anek+Telugu:wght@400;500;600;700;800&display=swap" rel="stylesheet">

<style>
* {
    box-sizing: border-box;
    font-family: 'Anek Telugu', sans-serif;
    margin: 0;
    padding: 0;
}

body {
    margin: 0;
    padding: 20px;
    min-height: 100vh;
    background: linear-gradient(135deg, #0b3d91, #072c66);
    display: flex;
    justify-content: center;
}

.main-container {
    max-width: 1300px;
    width: 100%;
    background: #ffffff;
    border-radius: 30px;
    padding: 30px;
    box-shadow: 0 15px 40px rgba(0,0,0,0.3);
}

/* Header Styles */
.header {
    text-align: center;
    margin-bottom: 30px;
    border-bottom: 3px solid #0b3d91;
    padding-bottom: 20px;
    background: linear-gradient(to right, #f9f3e6, #fff);
    border-radius: 20px;
    padding: 20px;
}

.logo-circle {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    margin: 0 auto 15px auto;
    position: relative;
    background: #fff;
    border: 6px solid #0b3d91;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    overflow: hidden;
}

.logo-circle img {
    position: absolute;
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0.2;
}

.logo-text {
    position: relative;
    z-index: 2;
    font-weight: 800;
    color: #0b3d91;
    text-align: center;
    font-size: 12px;
    padding: 10px;
    line-height: 1.5;
}

h1 {
    color: #0b3d91;
    font-size: 32px;
    font-weight: 800;
    margin: 10px 0;
}

.story-title {
    background: #f0e6d2;
    display: inline-block;
    padding: 10px 30px;
    border-radius: 40px;
    color: #8b5a2b;
    font-weight: 600;
    margin-bottom: 15px;
}

.subtitle {
    color: #4a5568;
    font-size: 18px;
    margin-bottom: 15px;
}

/* Topic Tags */
.topics-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
    margin: 20px 0;
}

.topic-tag {
    background: #e8f0fe;
    color: #0b3d91;
    padding: 8px 20px;
    border-radius: 25px;
    font-weight: 600;
    font-size: 14px;
    border: 2px solid #0b3d91;
}

.topic-tag.purple {
    background: #f3e8ff;
    color: #6b46c1;
    border-color: #6b46c1;
}

/* Timer */
.timer {
    background: #b43b3b;
    color: #fff;
    display: inline-block;
    padding: 12px 30px;
    border-radius: 30px;
    font-size: 24px;
    font-weight: 800;
    margin: 15px 0;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

/* Student Input Panel */
.student-panel {
    background: #f2f6ff;
    padding: 30px;
    border-radius: 20px;
    margin: 20px 0 30px;
    border: 2px dashed #0b3d91;
    text-align: center;
}

.student-input-group {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    align-items: center;
    justify-content: center;
    margin-bottom: 20px;
}

.student-input-group input {
    padding: 15px 25px;
    border-radius: 30px;
    border: 2px solid #b0c4ff;
    font-size: 1rem;
    outline: none;
    min-width: 280px;
    font-family: 'Anek Telugu', sans-serif;
    background: white;
}

.student-input-group input:focus {
    border-color: #0b3d91;
    box-shadow: 0 0 0 3px rgba(11,61,145,0.1);
}

.student-input-group select {
    padding: 15px 25px;
    border-radius: 30px;
    border: 2px solid #b0c4ff;
    font-size: 1rem;
    outline: none;
    min-width: 200px;
    font-family: 'Anek Telugu', sans-serif;
    background: white;
    cursor: pointer;
}

.btn {
    padding: 15px 35px;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    font-size: 1.1rem;
    font-weight: 700;
    background: #0b3d91;
    color: #fff;
    transition: 0.2s;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.btn:hover {
    background: #072c66;
    transform: translateY(-2px);
}

.btn-secondary {
    background: #4a5568;
}

.btn-secondary:hover {
    background: #2d3748;
}

.btn-success {
    background: #2f855a;
}

.btn-success:hover {
    background: #276749;
}

.btn-purple {
    background: #6b46c1;
}

.btn-purple:hover {
    background: #553c9a;
}

.btn-large {
    padding: 18px 40px;
    font-size: 1.2rem;
}

/* Student Info Display */
.student-info-card {
    background: linear-gradient(135deg, #0b3d91, #072c66);
    color: white;
    padding: 20px 30px;
    border-radius: 50px;
    margin: 20px 0;
    display: inline-block;
    font-size: 24px;
    font-weight: 700;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.student-details {
    background: #e8f0fe;
    padding: 15px 25px;
    border-radius: 40px;
    margin: 15px 0;
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 15px;
    align-items: center;
}

.detail-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 18px;
    color: #0b3d91;
    font-weight: 600;
}

/* Class Section Headers */
.class-section {
    margin: 20px 0 10px;
    text-align: left;
    font-size: 20px;
    font-weight: 700;
    color: #0b3d91;
    border-left: 6px solid #0b3d91;
    padding-left: 15px;
}

.student-buttons-container {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    justify-content: center;
    margin-bottom: 20px;
}

.student-btn {
    padding: 8px 15px;
    font-size: 14px;
    background: #e8f0fe;
    color: #0b3d91;
    border: 2px solid #0b3d91;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s;
}

.student-btn:hover {
    background: #0b3d91;
    color: white;
    transform: translateY(-2px);
}

/* Vocabulary Matching Game Styles */
.vocab-header {
    background: linear-gradient(135deg, #6b46c1, #553c9a);
    color: white;
    padding: 25px;
    border-radius: 20px;
    margin: 20px 0;
    text-align: center;
}

.vocab-header h2 {
    font-size: 28px;
    margin-bottom: 10px;
}

.vocab-stats {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin-top: 15px;
    font-size: 18px;
}

.matching-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    margin: 30px 0;
}

.word-column, .meaning-column {
    background: #f7f9ff;
    padding: 20px;
    border-radius: 20px;
    border: 2px solid #cbd5e0;
}

.column-header {
    text-align: center;
    padding: 15px;
    background: #0b3d91;
    color: white;
    border-radius: 15px;
    margin-bottom: 20px;
    font-weight: 700;
    font-size: 20px;
}

.word-item {
    background: white;
    padding: 15px 20px;
    margin-bottom: 15px;
    border-radius: 15px;
    border-left: 6px solid #6b46c1;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    cursor: pointer;
    transition: all 0.3s;
    font-weight: 600;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.word-item:hover {
    transform: translateX(5px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    background: #f0e6ff;
}

.word-item.selected {
    background: #6b46c1;
    color: white;
    border-left-color: #ffd700;
}

.meaning-item {
    background: white;
    padding: 15px 20px;
    margin-bottom: 15px;
    border-radius: 15px;
    border-right: 6px solid #0b3d91;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.meaning-item:hover {
    transform: translateX(-5px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    background: #e6f0ff;
}

.meaning-item.selected {
    background: #0b3d91;
    color: white;
    border-right-color: #ffd700;
}

.match-badge {
    background: #2f855a;
    color: white;
    padding: 3px 10px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
}

.matched-pair {
    background: #f0fff4;
    border: 2px solid #2f855a;
    border-radius: 10px;
    padding: 10px;
    margin: 5px 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.pairs-container {
    background: #f7f9ff;
    padding: 20px;
    border-radius: 20px;
    margin: 20px 0;
}

.pairs-title {
    font-size: 20px;
    font-weight: 700;
    color: #2f855a;
    margin-bottom: 15px;
}

/* Score Display */
.score-badge {
    background: #6b46c1;
    color: #fff;
    padding: 20px 50px;
    border-radius: 40px;
    font-size: 2rem;
    font-weight: 800;
    display: inline-block;
    margin: 20px 0;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.feedback-section {
    background: #fff3cd;
    border-radius: 20px;
    padding: 25px;
    margin-top: 30px;
    text-align: left;
}

/* Print Styles */
@media print {
    .student-panel, .btn, .paper-controls, .timer, .no-print {
        display: none !important;
    }
    
    .main-container {
        box-shadow: none;
        padding: 10px;
        background: white;
    }
    
    .word-item, .meaning-item {
        break-inside: avoid;
    }
}

/* Responsive */
@media (max-width: 768px) {
    .matching-grid {
        grid-template-columns: 1fr;
    }
    
    .student-info-card {
        font-size: 20px;
        padding: 15px 20px;
    }
}

.generated-date {
    color: #718096;
    font-size: 14px;
    margin-top: 5px;
}

/* Story Preview */
.story-preview {
    background: #fef9e7;
    padding: 20px;
    border-radius: 15px;
    margin: 20px 0;
    border-left: 6px solid #8b5a2b;
    font-style: italic;
    color: #5d3a1a;
    max-height: 150px;
    overflow-y: auto;
}

.butterfly-icon {
    font-size: 24px;
    margin: 0 5px;
}
</style>
</head>
<body>

<div class="main-container">
    <!-- Header with Butterfly Theme -->
    <div class="header">
        <div class="logo-circle">
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='45' fill='%23f0f4ff'/%3E%3Ctext x='50' y='55' font-size='40' text-anchor='middle' fill='%230b3d91'%3Eü¶ã%3C/text%3E%3C/svg%3E" alt="Butterfly Logo">
            <div class="logo-text">
                ‡∞ï‡∞Ç‡∞¶‡±Å‡∞≤‡∞æ‡∞™‡±Å‡∞∞‡∞Ç ‡∞¨‡∞°‡∞ø<br>
                <span style="font-size:12px;">Kandulapuram School</span>
            </div>
        </div>
        
        <div class="story-title">
            <span class="butterfly-icon">ü¶ã</span> Three Butterflies | ‡∞Æ‡±Ç‡∞°‡±Å ‡∞∏‡±Ä‡∞§‡∞æ‡∞ï‡±ã‡∞ï‡∞ö‡∞ø‡∞≤‡±Å‡∞ï‡∞≤‡±Å <span class="butterfly-icon">ü¶ã</span>
        </div>
        
        <h1>üìö Vocabulary Matching Game</h1>
        <div class="subtitle">
            <span class="te">‡∞ï‡∞•‡∞≤‡±ã‡∞®‡∞ø ‡∞ï‡∞∑‡±ç‡∞ü‡∞Æ‡±à‡∞® ‡∞™‡∞¶‡∞æ‡∞≤‡±Å - ‡∞Ö‡∞∞‡±ç‡∞•‡∞æ‡∞≤‡±Å</span> | 
            <span class="en">Difficult Words & Telugu Meanings</span>
        </div>
        
        <!-- Topics -->
        <div class="topics-container">
            <span class="topic-tag purple">üéØ 25 Word-Meaning Pairs</span>
            <span class="topic-tag purple">ü¶ã Three Butterflies Story</span>
            <span class="topic-tag purple">üìù Match & Learn</span>
        </div>
        
        <!-- Story Preview -->
        <div class="story-preview">
            <small>üìñ Story Preview:</small><br>
            Three butterflies lived in a garden - ‡∞í‡∞ï ‡∞§‡±ã‡∞ü‡∞≤‡±ã ‡∞Æ‡±Ç‡∞°‡±Å ‡∞∏‡±Ä‡∞§‡∞æ‡∞ï‡±ã‡∞ï‡∞ö‡∞ø‡∞≤‡±Å‡∞ï‡∞≤‡±Å ‡∞®‡∞ø‡∞µ‡∞∏‡∞ø‡∞Ç‡∞ö‡±á‡∞µ‡∞ø. They were friends - ‡∞Ö‡∞µ‡∞ø ‡∞∏‡±ç‡∞®‡±á‡∞π‡∞ø‡∞§‡±Å‡∞≤‡±Å. One white, one red and one yellow - ‡∞í‡∞ï‡∞ü‡∞ø ‡∞§‡±Ü‡∞≤‡±Å‡∞™‡±Å, ‡∞í‡∞ï‡∞ü‡∞ø ‡∞é‡∞∞‡±Å‡∞™‡±Å, ‡∞Æ‡∞∞‡±ä‡∞ï‡∞ü‡∞ø ‡∞™‡∞∏‡±Å‡∞™‡±Å. They played, danced and sucked nectar - ‡∞Ö‡∞µ‡∞ø ‡∞Ü‡∞°‡±Å‡∞ï‡±Å‡∞®‡±á‡∞µ‡∞ø, ‡∞®‡±É‡∞§‡±ç‡∞Ø‡∞Ç ‡∞ö‡±á‡∞∏‡±á‡∞µ‡∞ø, ‡∞™‡±Ç‡∞≤ ‡∞§‡±á‡∞®‡±Ü‡∞®‡±Å ‡∞§‡∞æ‡∞ó‡±á‡∞µ‡∞ø...
        </div>
    </div>

    <!-- Timer -->
    <div style="text-align: center;" class="no-print">
        <div class="timer" id="timer">‚è≥ 30:00</div>
    </div>

    <!-- Student Input Panel -->
    <div class="student-panel no-print">
        <h2 style="color: #0b3d91; margin-bottom: 20px;">üë§ ‡∞µ‡∞ø‡∞¶‡±ç‡∞Ø‡∞æ‡∞∞‡±ç‡∞•‡∞ø ‡∞µ‡∞ø‡∞µ‡∞∞‡∞æ‡∞≤‡±Å ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø</h2>
        <h3 style="color: #4a5568; margin-bottom: 25px;">Enter Student Details</h3>
        
        <div class="student-input-group">
            <input type="text" id="studentNameTel" placeholder="‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å‡∞≤‡±ã ‡∞™‡±á‡∞∞‡±Å" value="‡∞Ø‡∞∂‡±ç‡∞µ‡∞ø‡∞§">
            <input type="text" id="studentNameEn" placeholder="English Name" value="Yaswitha">
            <input type="text" id="rollNumber" placeholder="‡∞∞‡±ã‡∞≤‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç / Roll Number" value="501">
            <select id="classSelect">
                <option value="5">‡∞§‡∞∞‡∞ó‡∞§‡∞ø 5 | Class 5</option>
                <option value="4">‡∞§‡∞∞‡∞ó‡∞§‡∞ø 4 | Class 4</option>
            </select>
        </div>
        
        <div style="margin-top: 30px; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
            <button class="btn btn-large btn-purple" onclick="generateVocabularyGame()">
                ü¶ã Start Vocabulary Game (25 Words)
            </button>
            <button class="btn btn-large btn-secondary" onclick="resetAndNewStudent()">
                üîÑ New Student
            </button>
        </div>
        
        <!-- Class V Students -->
        <div class="class-section">‚ú® ‡∞§‡∞∞‡∞ó‡∞§‡∞ø 5 | Class V Students</div>
        <div class="student-buttons-container">
            <button class="student-btn" onclick="loadStudent('‡∞Ø‡∞∂‡±ç‡∞µ‡∞ø‡∞§', 'Yaswitha', '501', '5')">‡∞Ø‡∞∂‡±ç‡∞µ‡∞ø‡∞§ (Yaswitha)</button>
            <button class="student-btn" onclick="loadStudent('‡∞ï‡∞≤‡±ç‡∞Ø‡∞æ‡∞£‡∞ø', 'Kalyani', '502', '5')">‡∞ï‡∞≤‡±ç‡∞Ø‡∞æ‡∞£‡∞ø (Kalyani)</button>
            <button class="student-btn" onclick="loadStudent('‡∞∏‡∞æ‡∞ú‡∞ø‡∞¶', 'Sajida', '503', '5')">‡∞∏‡∞æ‡∞ú‡∞ø‡∞¶ (Sajida)</button>
            <button class="student-btn" onclick="loadStudent('‡∞Ö‡∞∏‡±ç‡∞Æ', 'Asma', '504', '5')">‡∞Ö‡∞∏‡±ç‡∞Æ (Asma)</button>
            <button class="student-btn" onclick="loadStudent('‡∞Ö‡∞§‡∞ø‡∞Ø ‡∞´‡∞æ‡∞§‡∞ø‡∞Æ', 'Athiya Fathima', '505', '5')">‡∞Ö‡∞§‡∞ø‡∞Ø ‡∞´‡∞æ‡∞§‡∞ø‡∞Æ (Athiya)</button>
            <button class="student-btn" onclick="loadStudent('‡∞™‡±ç‡∞∞‡∞µ‡∞≤‡±ç‡∞≤‡∞ø‡∞ï', 'Pravallika', '506', '5')">‡∞™‡±ç‡∞∞‡∞µ‡∞≤‡±ç‡∞≤‡∞ø‡∞ï (Pravallika)</button>
            <button class="student-btn" onclick="loadStudent('‡∞ö‡∞Ç‡∞¶‡±ç‡∞∞ ‡∞∂‡±á‡∞ñ‡∞∞‡±ç', 'Chandra Sekhar', '507', '5')">‡∞ö‡∞Ç‡∞¶‡±ç‡∞∞ ‡∞∂‡±á‡∞ñ‡∞∞‡±ç (Chandra)</button>
        </div>

        <!-- Class IV Students -->
        <div class="class-section">üåü ‡∞§‡∞∞‡∞ó‡∞§‡∞ø 4 | Class IV Students</div>
        <div class="student-buttons-container">
            <button class="student-btn" onclick="loadStudent('‡∞µ‡∞∏‡∞Ç‡∞§', 'Vasantha', '401', '4')">‡∞µ‡∞∏‡∞Ç‡∞§ (Vasantha)</button>
            <button class="student-btn" onclick="loadStudent('‡∞ó‡±Ä‡∞§‡∞ø‡∞ï', 'Geethika', '402', '4')">‡∞ó‡±Ä‡∞§‡∞ø‡∞ï (Geethika)</button>
            <button class="student-btn" onclick="loadStudent('‡∞Ö‡∞Ç‡∞ú‡∞≤‡∞ø', 'Anjali', '403', '4')">‡∞Ö‡∞Ç‡∞ú‡∞≤‡∞ø (Anjali)</button>
            <button class="student-btn" onclick="loadStudent('‡∞∏‡±Å‡∞Æ‡∞Ø‡±ç‡∞Ø', 'Sumayya', '404', '4')">‡∞∏‡±Å‡∞Æ‡∞Ø‡±ç‡∞Ø (Sumayya)</button>
            <button class="student-btn" onclick="loadStudent('‡∞Ø‡∞æ‡∞∏‡±ç‡∞Æ‡±Ä‡∞®‡±ç', 'Yasmeen', '405', '4')">‡∞Ø‡∞æ‡∞∏‡±ç‡∞Æ‡±Ä‡∞®‡±ç (Yasmeen)</button>
            <button class="student-btn" onclick="loadStudent('‡∞®‡∞ø‡∞π‡∞æ‡∞∞‡∞ø‡∞ï', 'Niharika', '406', '4')">‡∞®‡∞ø‡∞π‡∞æ‡∞∞‡∞ø‡∞ï (Niharika)</button>
            <button class="student-btn" onclick="loadStudent('‡∞∞‡∞ø‡∞Æ‡±ç‡∞∑', 'Rimsha', '407', '4')">‡∞∞‡∞ø‡∞Æ‡±ç‡∞∑ (Rimsha)</button>
            <button class="student-btn" onclick="loadStudent('‡∞∏‡∞Ç‡∞ú‡∞Ø‡±ç', 'Sanjay', '408', '4')">‡∞∏‡∞Ç‡∞ú‡∞Ø‡±ç (Sanjay)</button>
            <button class="student-btn" onclick="loadStudent('‡∞∂‡±ç‡∞∞‡±Ä‡∞ï‡∞æ‡∞Ç‡∞§‡±ç', 'Srikanth', '409', '4')">‡∞∂‡±ç‡∞∞‡±Ä‡∞ï‡∞æ‡∞Ç‡∞§‡±ç (Srikanth)</button>
        </div>
    </div>

    <!-- Student Info Display (shown after generation) -->
    <div id="studentInfoDisplay" style="display: none; text-align: center;"></div>

    <!-- Vocabulary Game Container -->
    <div id="vocabGameContainer"></div>
    
    <!-- Score Display -->
    <div id="scoreDisplay" style="text-align: center;"></div>
</div>

<script>
// Total time: 30 minutes
let totalTime = 30 * 60;
let timerInterval;
let currentGame = null;
let selectedWordIndex = null;

// Vocabulary Bank (25 difficult words from the story with Telugu meanings)
const vocabularyBank = [
    { word: "butterfly", meaning: "‡∞∏‡±Ä‡∞§‡∞æ‡∞ï‡±ã‡∞ï‡∞ö‡∞ø‡∞≤‡±Å‡∞ï", example: "Three butterflies lived" },
    { word: "garden", meaning: "‡∞§‡±ã‡∞ü", example: "lived in a garden" },
    { word: "friends", meaning: "‡∞∏‡±ç‡∞®‡±á‡∞π‡∞ø‡∞§‡±Å‡∞≤‡±Å", example: "They were friends" },
    { word: "white", meaning: "‡∞§‡±Ü‡∞≤‡±Å‡∞™‡±Å", example: "One was white" },
    { word: "red", meaning: "‡∞é‡∞∞‡±Å‡∞™‡±Å", example: "one red" },
    { word: "yellow", meaning: "‡∞™‡∞∏‡±Å‡∞™‡±Å", example: "the other yellow" },
    { word: "played", meaning: "‡∞Ü‡∞°‡±Å‡∞ï‡±Å‡∞®‡±á‡∞µ‡∞ø", example: "They played" },
    { word: "danced", meaning: "‡∞®‡±É‡∞§‡±ç‡∞Ø‡∞Ç ‡∞ö‡±á‡∞∏‡±á‡∞µ‡∞ø", example: "and danced together" },
    { word: "flew", meaning: "‡∞é‡∞ó‡∞ø‡∞∞‡±á‡∞µ‡∞ø", example: "They flew together" },
    { word: "sucked", meaning: "‡∞§‡∞æ‡∞ó‡±á‡∞µ‡∞ø", example: "sucked nectar" },
    { word: "nectar", meaning: "‡∞§‡±á‡∞®‡±Ü", example: "nectar from flowers" },
    { word: "flowers", meaning: "‡∞™‡±Ç‡∞≤‡±Å", example: "from the flowers" },
    { word: "afternoon", meaning: "‡∞Æ‡∞ß‡±ç‡∞Ø‡∞æ‡∞π‡±ç‡∞®‡∞Ç", example: "One afternoon" },
    { word: "suddenly", meaning: "‡∞Ö‡∞ï‡∞∏‡±ç‡∞Æ‡∞æ‡∞§‡±ç‡∞§‡±Å‡∞ó‡∞æ", example: "suddenly grew dark" },
    { word: "dark", meaning: "‡∞ö‡±Ä‡∞ï‡∞ü‡∞ø", example: "grew dark" },
    { word: "cold", meaning: "‡∞ö‡∞≤‡±ç‡∞≤‡∞®‡∞ø", example: "cold wind blew" },
    { word: "wind", meaning: "‡∞ó‡∞æ‡∞≤‡∞ø", example: "wind blew" },
    { word: "rain", meaning: "‡∞µ‡∞∞‡±ç‡∞∑‡∞Ç", example: "started raining" },
    { word: "shelter", meaning: "‡∞Ü‡∞∂‡±ç‡∞∞‡∞Ø‡∞Ç", example: "looked for shelter" },
    { word: "sunflower", meaning: "‡∞™‡±ä‡∞¶‡±ç‡∞¶‡±Å‡∞§‡∞ø‡∞∞‡±Å‡∞ó‡±Å‡∞°‡±Å ‡∞™‡±Å‡∞µ‡±ç‡∞µ‡±Å", example: "saw a sunflower" },
    { word: "curiously", meaning: "‡∞Ü‡∞∏‡∞ï‡±ç‡∞§‡∞ø‡∞ó‡∞æ", example: "watching curiously" },
    { word: "favourite", meaning: "‡∞á‡∞∑‡±ç‡∞ü‡∞Æ‡±à‡∞®", example: "My favourite" },
    { word: "dismay", meaning: "‡∞®‡∞ø‡∞∞‡∞æ‡∞∂", example: "sending away in dismay" },
    { word: "pebbles", meaning: "‡∞ó‡±Å‡∞≤‡∞ï‡∞∞‡∞æ‡∞≥‡±ç‡∞≥‡±Å", example: "like pebbles" },
    { word: "lily", meaning: "‡∞ï‡∞≤‡±Å‡∞µ ‡∞™‡±Å‡∞µ‡±ç‡∞µ‡±Å", example: "white lily" },
    { word: "petals", meaning: "‡∞∞‡±á‡∞ï‡±Å‡∞≤‡±Å", example: "Open your petals" },
    { word: "begged", meaning: "‡∞µ‡±á‡∞°‡±Å‡∞ï‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞Ø‡∞ø", example: "the butterflies begged" },
    { word: "cloudy", meaning: "‡∞Æ‡±á‡∞ò‡∞æ‡∞µ‡±É‡∞§‡∞Ç", example: "still cloudy" },
    { word: "sun", meaning: "‡∞∏‡±Ç‡∞∞‡±ç‡∞Ø‡±Å‡∞°‡±Å", example: "The sun was watching" },
    { word: "pleased", meaning: "‡∞∏‡∞Ç‡∞§‡±ã‡∞∑‡∞ø‡∞Ç‡∞ö‡∞æ‡∞°‡±Å", example: "was pleased" },
    { word: "love", meaning: "‡∞™‡±ç‡∞∞‡±á‡∞Æ", example: "the love and care" },
    { word: "care", meaning: "‡∞∂‡±ç‡∞∞‡∞¶‡±ç‡∞ß", example: "love and care" },
    { word: "chased", meaning: "‡∞§‡∞∞‡∞ø‡∞Æ‡∞ø‡∞ï‡±ä‡∞ü‡±ç‡∞ü‡∞æ‡∞°‡±Å", example: "chased the clouds" },
    { word: "clouds", meaning: "‡∞Æ‡±á‡∞ò‡∞æ‡∞≤‡±Å", example: "chased the clouds" },
    { word: "dried", meaning: "‡∞Ü‡∞∞‡∞¨‡±Ü‡∞ü‡±ç‡∞ü‡∞ø‡∞Ç‡∞¶‡∞ø", example: "dried the wings" },
    { word: "wings", meaning: "‡∞∞‡±Ü‡∞ï‡±ç‡∞ï‡∞≤‡±Å", example: "butterflies' wings" },
    { word: "happy", meaning: "‡∞∏‡∞Ç‡∞§‡±ã‡∞∑‡∞Ç‡∞ó‡∞æ", example: "were happy again" },
    { word: "evening", meaning: "‡∞∏‡∞æ‡∞Ø‡∞Ç‡∞§‡±ç‡∞∞‡∞Ç", example: "till evening" },
    { word: "night", meaning: "‡∞∞‡∞æ‡∞§‡±ç‡∞∞‡∞ø", example: "night fell" },
    { word: "sleep", meaning: "‡∞®‡∞ø‡∞¶‡±ç‡∞∞", example: "went to sleep" },
    { word: "together", meaning: "‡∞ï‡∞≤‡∞ø‡∞∏‡∞ø", example: "went to sleep together" }
];

// Take first 25 unique words
const masterVocabulary = vocabularyBank.slice(0, 25);

function startTimer() {
    if (timerInterval) clearInterval(timerInterval);
    timerInterval = setInterval(() => {
        let minutes = Math.floor(totalTime / 60);
        let seconds = totalTime % 60;
        
        document.getElementById("timer").innerText = "‚è≥ " + 
            (minutes < 10 ? "0" : "") + minutes + ":" + 
            (seconds < 10 ? "0" : "") + seconds;
        
        if (totalTime <= 0) {
            clearInterval(timerInterval);
            alert("‚è∞ ‡∞∏‡∞Æ‡∞Ø‡∞Ç ‡∞Æ‡±Å‡∞ó‡∞ø‡∞∏‡∞ø‡∞Ç‡∞¶‡∞ø! Time Up!");
        }
        totalTime--;
    }, 1000);
}

// Load student with class parameter
function loadStudent(telName, enName, roll, studentClass) {
    document.getElementById('studentNameTel').value = telName;
    document.getElementById('studentNameEn').value = enName;
    document.getElementById('rollNumber').value = roll;
    document.getElementById('classSelect').value = studentClass;
}

// Reset for new student
function resetAndNewStudent() {
    document.getElementById('studentNameTel').value = '';
    document.getElementById('studentNameEn').value = '';
    document.getElementById('rollNumber').value = '';
    document.getElementById('classSelect').value = '5';
    document.getElementById('vocabGameContainer').innerHTML = '';
    document.getElementById('scoreDisplay').innerHTML = '';
    document.getElementById('studentInfoDisplay').style.display = 'none';
    document.getElementById('studentInfoDisplay').innerHTML = '';
    selectedWordIndex = null;
}

// Shuffle array function
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

// Generate vocabulary game
function generateVocabularyGame() {
    const telName = document.getElementById('studentNameTel').value.trim();
    const enName = document.getElementById('studentNameEn').value.trim();
    const rollNo = document.getElementById('rollNumber').value.trim();
    const studentClass = document.getElementById('classSelect').value;
    
    if (!telName || !enName || !rollNo) {
        alert('‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞µ‡∞ø‡∞µ‡∞∞‡∞æ‡∞≤‡±Å ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø / Please enter all details');
        return;
    }
    
    // Start timer
    startTimer();
    
    // Get all 25 vocabulary items and shuffle them
    const shuffledVocab = shuffleArray([...masterVocabulary]);
    
    // Create words list (shuffled)
    const words = shuffledVocab.map(item => ({
        word: item.word,
        meaning: item.meaning,
        example: item.example,
        matched: false
    }));
    
    // Create meanings list (shuffled separately)
    const meanings = shuffleArray([...shuffledVocab]).map(item => ({
        meaning: item.meaning,
        word: item.word,
        matched: false
    }));
    
    // Store current game
    currentGame = {
        student: {
            telName: telName,
            enName: enName,
            rollNo: rollNo,
            class: studentClass
        },
        words: words,
        meanings: meanings,
        matches: [],
        generatedDate: new Date().toLocaleString()
    };
    
    // Display student info
    document.getElementById('studentInfoDisplay').style.display = 'block';
    document.getElementById('studentInfoDisplay').innerHTML = `
        <div class="student-info-card">
            üë§ ${telName} (${enName}) | ‡∞∞‡±ã‡∞≤‡±ç ${rollNo} | Class ${studentClass}
        </div>
        <div class="student-details">
            <span class="detail-item">üìÖ ${new Date().toLocaleDateString()}</span>
            <span class="detail-item">‚è±Ô∏è 30 Minutes</span>
            <span class="detail-item">üìù Total Pairs: 25</span>
            <span class="detail-item">ü¶ã Three Butterflies</span>
        </div>
    `;
    
    // Display the game
    displayVocabularyGame(currentGame);
}

// Display vocabulary matching game
function displayVocabularyGame(game) {
    let html = `
        <div class="vocab-header">
            <h2>ü¶ã ‡∞Æ‡±ç‡∞Ø‡∞æ‡∞ö‡∞ø‡∞Ç‡∞ó‡±ç ‡∞ó‡±á‡∞Æ‡±ç | Matching Game</h2>
            <p>Click a word, then click its meaning to match</p>
            <div class="vocab-stats">
                <span>üìä Matched: <span id="matchedCount">0</span>/25</span>
                <span>üéØ Selected: <span id="selectedWord">None</span></span>
            </div>
        </div>
        
        <div class="paper-header">
            <div class="student-info">
                üìã ${game.student.telName} (${game.student.enName}) - Class ${game.student.class}
                <div class="generated-date">Generated: ${game.generatedDate}</div>
            </div>
            <div class="paper-controls no-print">
                <button class="btn btn-secondary" onclick="resetGame()">
                    üîÑ New Set
                </button>
                <button class="btn" onclick="window.print()">
                    üñ®Ô∏è Print Game
                </button>
            </div>
        </div>
        
        <div class="matching-grid">
            <div class="word-column">
                <div class="column-header">üìù ENGLISH WORDS</div>
                <div id="wordsList">
    `;
    
    game.words.forEach((item, index) => {
        if (!item.matched) {
            html += `
                <div class="word-item" onclick="selectWord(${index})" id="word-${index}">
                    <span>${item.word}</span>
                    <small style="opacity:0.7; font-style:italic;">${item.example}</small>
                </div>
            `;
        }
    });
    
    html += `
                </div>
            </div>
            <div class="meaning-column">
                <div class="column-header">üìñ ‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å ‡∞Ö‡∞∞‡±ç‡∞•‡∞æ‡∞≤‡±Å</div>
                <div id="meaningsList">
    `;
    
    game.meanings.forEach((item, index) => {
        if (!item.matched) {
            html += `
                <div class="meaning-item" onclick="selectMeaning(${index})" id="meaning-${index}">
                    <span>${item.meaning}</span>
                </div>
            `;
        }
    });
    
    html += `
                </div>
            </div>
        </div>
        
        <div class="pairs-container" id="pairsContainer">
            <div class="pairs-title">‚úÖ ‡∞Æ‡±ç‡∞Ø‡∞æ‡∞ö‡±ç ‡∞Ö‡∞Ø‡∞ø‡∞® ‡∞ú‡∞§‡∞≤‡±Å | Matched Pairs</div>
            <div id="matchedPairsList"></div>
        </div>
        
        <div style="text-align: center; margin: 30px 0;" class="no-print">
            <button class="btn btn-large btn-success" onclick="evaluateGame()">
                ‚úÖ Finish & Check Answers
            </button>
        </div>
    `;
    
    document.getElementById("vocabGameContainer").innerHTML = html;
    updateMatchedPairs();
}

// Select a word
function selectWord(index) {
    if (!currentGame) return;
    
    // Deselect previous word
    if (selectedWordIndex !== null) {
        const prevWord = document.getElementById(`word-${selectedWordIndex}`);
        if (prevWord) prevWord.classList.remove('selected');
    }
    
    selectedWordIndex = index;
    const wordElement = document.getElementById(`word-${index}`);
    if (wordElement) wordElement.classList.add('selected');
    
    document.getElementById('selectedWord').textContent = currentGame.words[index].word;
}

// Select a meaning and try to match
function selectMeaning(meaningIndex) {
    if (!currentGame || selectedWordIndex === null) {
        alert('‡∞Æ‡±Å‡∞Ç‡∞¶‡±Å ‡∞í‡∞ï ‡∞™‡∞¶‡∞æ‡∞®‡±ç‡∞®‡∞ø ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø / Please select a word first');
        return;
    }
    
    const word = currentGame.words[selectedWordIndex];
    const meaning = currentGame.meanings[meaningIndex];
    
    if (word.matched || meaning.matched) {
        alert('‡∞à ‡∞™‡∞¶‡∞Ç ‡∞á‡∞™‡±ç‡∞™‡∞ü‡∞ø‡∞ï‡±á ‡∞Æ‡±ç‡∞Ø‡∞æ‡∞ö‡±ç ‡∞Ö‡∞Ø‡∞ø‡∞Ç‡∞¶‡∞ø / This item is already matched');
        return;
    }
    
    // Check if they match
    if (word.meaning === meaning.meaning) {
        // Mark as matched
        word.matched = true;
        meaning.matched = true;
        
        currentGame.matches.push({
            word: word.word,
            meaning: word.meaning,
            example: word.example
        });
        
        // Remove from display
        document.getElementById(`word-${selectedWordIndex}`).remove();
        document.getElementById(`meaning-${meaningIndex}`).remove();
        
        // Clear selection
        document.getElementById(`word-${selectedWordIndex}`)?.classList.remove('selected');
        selectedWordIndex = null;
        document.getElementById('selectedWord').textContent = 'None';
        
        // Update matched pairs display
        updateMatchedPairs();
        
        // Check if game is complete
        if (currentGame.matches.length === 25) {
            alert('üéâ ‡∞Ö‡∞¶‡±ç‡∞≠‡±Å‡∞§‡∞Ç! ‡∞Æ‡±Ä‡∞∞‡±Å ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞™‡∞¶‡∞æ‡∞≤‡∞®‡±Å ‡∞∏‡∞∞‡∞ø‡∞ó‡±ç‡∞ó‡∞æ ‡∞Æ‡±ç‡∞Ø‡∞æ‡∞ö‡±ç ‡∞ö‡±á‡∞∂‡∞æ‡∞∞‡±Å! / Excellent! You matched all words!');
        }
    } else {
        alert('‚ùå ‡∞§‡∞™‡±ç‡∞™‡±Å ‡∞ú‡∞§! ‡∞Æ‡∞≥‡±ç‡∞≥‡±Ä ‡∞™‡±ç‡∞∞‡∞Ø‡∞§‡±ç‡∞®‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø / Wrong match! Try again');
        // Clear selection
        document.getElementById(`word-${selectedWordIndex}`)?.classList.remove('selected');
        selectedWordIndex = null;
        document.getElementById('selectedWord').textContent = 'None';
    }
}

// Update matched pairs display
function updateMatchedPairs() {
    if (!currentGame) return;
    
    document.getElementById('matchedCount').textContent = currentGame.matches.length;
    
    let pairsHtml = '';
    currentGame.matches.forEach((match, index) => {
        pairsHtml += `
            <div class="matched-pair">
                <span><strong>${index + 1}.</strong> ${match.word}</span>
                <span>‚û°Ô∏è</span>
                <span><strong>${match.meaning}</strong></span>
                <small style="color: #718096;">(${match.example})</small>
            </div>
        `;
    });
    
    if (currentGame.matches.length === 0) {
        pairsHtml = '<p style="text-align: center; color: #718096;">No matches yet. Start matching!</p>';
    }
    
    document.getElementById('matchedPairsList').innerHTML = pairsHtml;
}

// Reset game with new set of words
function resetGame() {
    if (currentGame) {
        generateVocabularyGame();
    }
}

// Evaluate the game
function evaluateGame() {
    if (!currentGame) return;
    
    const totalMatches = currentGame.matches.length;
    const percentage = (totalMatches / 25) * 100;
    
    let gradeMessage = percentage >= 80 ? 'üèÜ ‡∞Ö‡∞¶‡±ç‡∞≠‡±Å‡∞§‡∞Ç! Excellent!' :
                      percentage >= 60 ? 'üéâ ‡∞ö‡∞æ‡∞≤‡∞æ ‡∞Æ‡∞Ç‡∞ö‡∞ø‡∞¶‡∞ø! Very Good!' :
                      percentage >= 40 ? 'üëç ‡∞Æ‡∞Ç‡∞ö‡∞ø‡∞¶‡∞ø! Good!' :
                      'üìö ‡∞Æ‡∞∞‡∞ø‡∞Ç‡∞§ ‡∞∏‡∞æ‡∞ß‡∞® ‡∞Ö‡∞µ‡∞∏‡∞∞‡∞Ç! Practice More!';
    
    let feedback = `
        <div style="text-align: center;">
            <div class="score-badge">
                üéØ ${totalMatches}/25 (${percentage}%)<br>
                <small style="font-size: 18px;">${gradeMessage}</small>
            </div>
        </div>
    `;
    
    // Show unmatched words if any
    if (totalMatches < 25) {
        const unmatchedWords = currentGame.words.filter(w => !w.matched);
        
        feedback += '<div class="feedback-section"><h3 style="color:#856404;">üìã ‡∞Æ‡±ç‡∞Ø‡∞æ‡∞ö‡±ç ‡∞ï‡∞æ‡∞®‡∞ø ‡∞™‡∞¶‡∞æ‡∞≤‡±Å / Unmatched Words:</h3>';
        
        unmatchedWords.forEach((item, i) => {
            feedback += `
                <div style="padding: 8px; border-bottom: 1px solid #ffe69c;">
                    <strong>${item.word}</strong> ‚û°Ô∏è <span style="color:#0b3d91;">${item.meaning}</span>
                    <small> (${item.example})</small>
                </div>
            `;
        });
        
        feedback += '</div>';
    }
    
    document.getElementById("scoreDisplay").innerHTML = feedback;
}

// Start timer when page loads
window.onload = function() {
    startTimer();
    loadStudent('‡∞Ø‡∞∂‡±ç‡∞µ‡∞ø‡∞§', 'Yaswitha', '501', '5');
};
</script>

<!-- Watermark for print -->
<div class="watermark no-print">ü¶ã</div>

</body>
</html>